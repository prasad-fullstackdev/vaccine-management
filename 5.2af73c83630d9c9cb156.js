(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ftC1:function(e,t,i){"use strict";i.r(t),i.d(t,"ManageModule",(function(){return ue}));var a=i("PCNd"),r=i("tyNb"),c=i("3Pt+"),s=i("84Y0"),o=i("wgH9"),n=i("DHDI"),l=i("yAAq"),d=i("hJeS"),b=i("fXoL"),h=i("tgey"),u=i("ofXK"),g=i("XiUz"),m=i("Wp6s"),f=i("kmnG"),p=i("d3UM"),U=i("qFsG"),v=i("bTqV"),C=i("NFeN"),S=i("lDv4"),w=i("FKr1");function V(e,t){1&e&&b.Qb(0,"app-loader")}function k(e,t){if(1&e&&(b.Vb(0,"mat-option",16),b.Qc(1),b.Ub()),2&e){const e=t.$implicit;b.qc("value",e.districtId),b.Cb(1),b.Sc(" ",e.districtName," ")}}function y(e,t){if(1&e&&(b.Vb(0,"mat-option",16),b.Qc(1),b.Ub()),2&e){const e=t.$implicit;b.qc("value",e.talukaId),b.Cb(1),b.Sc(" ",e.talukaName," ")}}let x=(()=>{class e{constructor(e,t,i,a,r){this.fb=e,this.lookupService=t,this.vaccineService=i,this.snackBarService=a,this.authService=r,this.isShowLoader=!1,this.districtList=[],this.talukaList=[],this.addVaccineCenter=new d.a,this.addCenterForm=this.fb.group({districtId:[null,[c.J.required]],talukaId:[null,[c.J.required]],userId:[null,[c.J.required]],vaccineCenterName:[null,[c.J.required]]})}ngOnInit(){this.addVaccineCenter.districtId=this.authService.loggedInUser.districtId,this.addVaccineCenter.talukaId=this.authService.loggedInUser.talukaId,this.addVaccineCenter.userId=this.authService.loggedInUser.userId,this.addCenterForm.patchValue(this.addVaccineCenter),this.getDistrictList(!1),this.getTalukaList(this.addVaccineCenter.districtId)}onDistrictChange(e){console.log("onDistrictChange",e),this.getTalukaList(e)}onTalukaChange(e){console.log("onTalukaChange",e)}getDistrictList(e=!0){this.lookupService.getDistrictList().subscribe(t=>{console.log("districtList",t),this.districtList=t,e&&(this.talukaList=[])},e=>{console.error("error",e)})}getTalukaList(e){e>0&&this.lookupService.getTalukaList(e).subscribe(e=>{console.log("talukaList",e),this.talukaList=e},e=>{console.error("error",e)})}onAddCenter(){if(this.addCenterForm.valid){const e=this.addCenterForm.getRawValue();this.vaccineService.addOrUpdateVaccineCenter(e).subscribe(e=>{console.log("savedVaccineCenter",e),this.snackBarService.showSuccessSnackBar("Vaccine center added successfully"),this.addCenterForm.reset(),this.addCenterForm.patchValue(this.addVaccineCenter)},e=>{console.error("error",e)})}else this.addCenterForm.markAllAsTouched()}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(c.i),b.Pb(o.a),b.Pb(l.a),b.Pb(n.a),b.Pb(s.a))},e.\u0275cmp=b.Jb({type:e,selectors:[["app-manage-center"]],decls:35,vars:4,consts:[[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["fxLayout","row wrap","fxLayoutGap","8px grid",1,"form-field-full"],["fxFlex","25","fxFlex.lt-sm","100"],["fxFlex","50","fxFlex.lt-sm","100",1,"matero-col"],[1,"text-center"],["fxLayout","row wrap","fxLayoutGap","8px grid",1,"form-field-full",3,"formGroup"],["fxFlex","100","fxFlex.lt-sm","100"],["formControlName","districtId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","talukaId",3,"selectionChange"],["matInput","","formControlName","vaccineCenterName"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center",1,"m-t-16"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"p-4"],[3,"value"]],template:function(e,t){1&e&&(b.Qb(0,"page-header"),b.Oc(1,V,1,0,"app-loader",0),b.Vb(2,"div",1),b.Vb(3,"div",2),b.Vb(4,"div",3),b.Qb(5,"div",4),b.Vb(6,"div",5),b.Vb(7,"mat-card"),b.Vb(8,"mat-card-title",6),b.Qc(9," Add Vaccine Center "),b.Ub(),b.Vb(10,"div",7),b.Vb(11,"div",8),b.Vb(12,"mat-form-field"),b.Vb(13,"mat-label"),b.Qc(14,"Select District"),b.Ub(),b.Vb(15,"mat-select",9),b.dc("selectionChange",(function(e){return t.onDistrictChange(e.value)})),b.Oc(16,k,2,2,"mat-option",10),b.Ub(),b.Ub(),b.Ub(),b.Vb(17,"div",8),b.Vb(18,"mat-form-field"),b.Vb(19,"mat-label"),b.Qc(20,"Select Taluka"),b.Ub(),b.Vb(21,"mat-select",11),b.dc("selectionChange",(function(e){return t.onTalukaChange(e.value)})),b.Oc(22,y,2,2,"mat-option",10),b.Ub(),b.Ub(),b.Ub(),b.Vb(23,"div",8),b.Vb(24,"mat-form-field"),b.Vb(25,"mat-label"),b.Qc(26,"Vaccine Center Name"),b.Ub(),b.Qb(27,"input",12),b.Ub(),b.Ub(),b.Ub(),b.Vb(28,"div",13),b.Vb(29,"button",14),b.dc("click",(function(){return t.onAddCenter()})),b.Vb(30,"mat-icon"),b.Qc(31,"save"),b.Ub(),b.Vb(32,"span",15),b.Qc(33," Save "),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Qb(34,"div",4),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Cb(1),b.qc("ngIf",t.isShowLoader),b.Cb(9),b.qc("formGroup",t.addCenterForm),b.Cb(6),b.qc("ngForOf",t.districtList),b.Cb(6),b.qc("ngForOf",t.talukaList))},directives:[h.a,u.t,g.f,g.e,g.b,g.g,m.a,m.m,c.w,c.n,f.c,f.g,p.a,c.v,c.l,u.s,U.b,c.e,v.b,C.a,S.a,w.o],styles:[".matero-table-container[_ngcontent-%COMP%]{height:460px;overflow:scroll;width:100%;overflow:auto}.matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%}.matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-actions[_ngcontent-%COMP%], .matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-cell.mat-column-actions[_ngcontent-%COMP%]{justify-content:center!important;text-align:center}"]}),e})();var L=i("M9IT"),I=i("+0xr"),A=i("Wxx3"),P=i("q5L8"),O=i("k5Aa"),F=i("mrSG"),D=i("v6wd");class q{constructor(){this.canView=!1,this.canAdd=!1,this.canEdit=!1,this.canDelete=!1}}let M=(()=>{class e{constructor(e,t,i){this.router=e,this.authService=t,this.snackBarService=i,this.pageAccessDictionary=null,this.enableRoleChecking=!0,this.bindRoleNotification()}bindRoleNotification(){this.authService.onRoleNotification$.subscribe(e=>{switch(e){case D.d.Reset:this.pageAccessDictionary=null;break;case D.d.Reload:this.loadPageAccessRightByRole()}})}loadPageAccessRightByRole(){return Object(F.a)(this,void 0,void 0,(function*(){console.log("loadPageAccessRightByRole called"),this.authService.isLoggedIn||this.router.navigateByUrl(P.b),this.authService.loggedInUser.roleId||this.router.navigateByUrl(P.b);const e=yield this.getPageAccessRightByRole();this.pageAccessDictionary=e,this.authService.onRolePageAccessLoad$.emit(this.pageAccessDictionary)}))}getPageAccessRightByRole(){console.log("getPageAccessRightByRole called")}setDefaultPageAccessRight(e){this.currentPageAccess=this.getDefaultPageAccessRight(e)}getDefaultPageAccessRight(e){const t=new q;return t.pageCode=e,t.canView=!0,t.canAdd=!0,t.canEdit=!0,t.canDelete=!0,t}getPageAccess(e){if(0==this.enableRoleChecking)return this.getDefaultPageAccessRight(e);let t=this.pageAccessDictionary[e];return null==t?this.getDefaultPageAccessRight(e):t}showNoAccessMessage(e){}hasPermission(e){var t;return console.log(e,this.pageAccessDictionary),this.currentPageAccess=new q,"Dashboard"==e||(1==this.authService.loggedInUser.roleId?(this.setDefaultPageAccessRight(e),!0):null!=this.pageAccessDictionary&&(this.currentPageAccess=this.pageAccessDictionary[e],console.log(e,this.currentPageAccess),null===(t=this.currentPageAccess)||void 0===t?void 0:t.canView))}}return e.\u0275fac=function(t){return new(t||e)(b.Zb(r.e),b.Zb(s.a),b.Zb(n.a))},e.\u0275prov=b.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var R=i("wbvY");class Q{}var N=i("0IaG"),B=i("sYmb");function _(e,t){1&e&&(b.Vb(0,"mat-error"),b.Qc(1),b.ic(2,"translate"),b.Ub()),2&e&&(b.Cb(1),b.Sc(" ",b.jc(2,1,"validations.required")," "))}function T(e,t){1&e&&(b.Vb(0,"mat-error"),b.Qc(1),b.ic(2,"translate"),b.Ub()),2&e&&(b.Cb(1),b.Sc(" ",b.jc(2,1,"validations.required")," "))}function J(e,t){if(1&e&&(b.Vb(0,"mat-option",17),b.Qc(1),b.Ub()),2&e){const e=b.hc().$implicit;b.qc("value",e.roleId),b.Cb(1),b.Sc(" ",e.roleName," ")}}function $(e,t){if(1&e&&(b.Tb(0),b.Oc(1,J,2,2,"mat-option",16),b.Sb()),2&e){const e=t.$implicit,i=b.hc();b.Cb(1),b.qc("ngIf",e.roleId>i.loggedInUserRoleId)}}function j(e,t){1&e&&(b.Vb(0,"mat-error"),b.Qc(1," Please select Role "),b.Ub())}function E(e,t){if(1&e&&(b.Vb(0,"mat-option",17),b.Qc(1),b.Ub()),2&e){const e=t.$implicit;b.qc("value",e.vaccineCenterId),b.Cb(1),b.Sc(" ",e.vaccineCenterName," ")}}function G(e,t){if(1&e&&(b.Vb(0,"mat-option",17),b.Qc(1),b.Ub()),2&e){const e=t.$implicit;b.qc("value",e.value),b.Cb(1),b.Sc(" ",e.displayName," ")}}function z(e,t){1&e&&(b.Vb(0,"mat-error"),b.Qc(1," Please select Is Active "),b.Ub())}function H(e,t){1&e&&(b.Vb(0,"span"),b.Qc(1,"Add User"),b.Ub())}function W(e,t){1&e&&(b.Vb(0,"span"),b.Qc(1,"Update User"),b.Ub())}let X=(()=>{class e{constructor(e,t,i,a,r,c){this.fb=e,this.lookupService=t,this.authService=i,this.snackBarService=a,this.addUserDialogRef=r,this.identityUser=c,this.luMessage=P.c,this.isShowLoader=!1,this.loggedInUserRoleId=0,this.vaccineCenterList=[],this.roleList=[{roleId:4,roleName:"Operator",description:"Operator"}]}ngOnInit(){return Object(F.a)(this,void 0,void 0,(function*(){this.addUserForm=this.fb.group({userId:[0,[]],name:["",[c.J.required,c.J.pattern(P.a.WhiteSpace)]],userName:["",[c.J.required]],roleId:["",[c.J.required]],districtId:[0,[c.J.required]],talukaId:[0,[c.J.required]],vaccineCenterId:["",[c.J.required]],isActive:[!0,[]]}),this.identityUser&&this.addUserForm.patchValue(this.identityUser);const e=this.authService.loggedInUser.talukaId;this.addUserForm.controls.districtId.setValue(this.authService.loggedInUser.districtId),this.addUserForm.controls.talukaId.setValue(e),yield this.getVaccineCenterList()}))}getVaccineCenterList(){return Object(F.a)(this,void 0,void 0,(function*(){const e=yield this.lookupService.getVaccineCenterList(1).toPromise();this.vaccineCenterList=e}))}onRoleChange(e){}onCloseDialog(){this.addUserDialogRef.close(null)}onAddUser(){if(console.log(this.addUserForm),this.addUserForm.valid){const e=this.addUserForm.value;e.userId>0?this.updateUser(e):(e.isActive=!0,this.registerUser(e))}else this.addUserForm.markAllAsTouched()}registerUser(e){this.isShowLoader=!0,this.authService.register(e).subscribe(e=>{switch(e.registraionStatus){case O.b.Added:this.snackBarService.showSnackBarComponent(P.c.UserAddedTitle,P.c.UserAddedMsg),this.addUserDialogRef.close(e);break;case O.b.UserAlreayExists:this.snackBarService.showSnackBarComponent(P.c.UserExistsTitle,P.c.UserExistsMessage);break;default:this.snackBarService.showFailureSnackBar(P.c.ErrorText,P.c.FailedToAddUser)}console.log("registeredUser",e),this.isShowLoader=!1},e=>{console.error("error",e),this.isShowLoader=!1})}updateUser(e){this.isShowLoader=!0,this.authService.updateUser(e).subscribe(e=>{switch(e.registraionStatus){case O.b.Updated:this.snackBarService.showSnackBarComponent(P.c.UserUpdatedTitle,P.c.UserUpdatedMsg),this.addUserDialogRef.close(e);break;case O.b.UserAlreayExists:this.snackBarService.showSnackBarComponent(P.c.UserExistsTitle,P.c.UserExistsMessage);break;default:this.snackBarService.showFailureSnackBar(P.c.ErrorText,P.c.FailedToAddUser)}console.log("registeredUser",e),this.isShowLoader=!1},e=>{console.error("error",e),this.isShowLoader=!1})}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(c.i),b.Pb(o.a),b.Pb(s.a),b.Pb(n.a),b.Pb(N.j),b.Pb(N.a))},e.\u0275cmp=b.Jb({type:e,selectors:[["app-add-user-dialog"]],decls:44,vars:11,consts:[["mat-dialog-title","",1,"text-center"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"form-field-full",3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","Username","formControlName","userName","required",""],[4,"ngIf"],["matInput","","placeholder","Full Name","formControlName","name","required",""],["formControlName","roleId","required","",3,"selectionChange"],[4,"ngFor","ngForOf"],["formControlName","vaccineCenterId"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","isActive"],["align","center"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(b.Vb(0,"h2",0),b.Qc(1,"Add/Update User"),b.Ub(),b.Vb(2,"mat-dialog-content"),b.Vb(3,"div",1),b.Vb(4,"form",2),b.Vb(5,"div",3),b.Vb(6,"div",4),b.Vb(7,"mat-form-field"),b.Vb(8,"mat-label"),b.Qc(9,"Username"),b.Ub(),b.Qb(10,"input",5),b.Oc(11,_,3,3,"mat-error",6),b.Ub(),b.Ub(),b.Vb(12,"div",4),b.Vb(13,"mat-form-field"),b.Vb(14,"mat-label"),b.Qc(15,"Full Name"),b.Ub(),b.Qb(16,"input",7),b.Oc(17,T,3,3,"mat-error",6),b.Ub(),b.Ub(),b.Vb(18,"div",4),b.Vb(19,"mat-form-field"),b.Vb(20,"mat-label"),b.Qc(21,"Role"),b.Ub(),b.Vb(22,"mat-select",8),b.dc("selectionChange",(function(e){return t.onRoleChange(e.value)})),b.Oc(23,$,2,1,"ng-container",9),b.Ub(),b.Oc(24,j,2,0,"mat-error",6),b.Ub(),b.Ub(),b.Vb(25,"div",4),b.Vb(26,"mat-form-field"),b.Vb(27,"mat-label"),b.Qc(28,"Select Vaccine Center"),b.Ub(),b.Vb(29,"mat-select",10),b.Oc(30,E,2,2,"mat-option",11),b.Ub(),b.Ub(),b.Ub(),b.Vb(31,"div",4),b.Vb(32,"mat-form-field"),b.Vb(33,"mat-label"),b.Qc(34,"Is Active"),b.Ub(),b.Vb(35,"mat-select",12),b.Oc(36,G,2,2,"mat-option",11),b.Ub(),b.Oc(37,z,2,0,"mat-error",6),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(38,"mat-dialog-actions",13),b.Vb(39,"button",14),b.dc("click",(function(){return t.onCloseDialog()})),b.Qc(40," Cancel "),b.Ub(),b.Vb(41,"button",15),b.dc("click",(function(){return t.onAddUser()})),b.Oc(42,H,2,0,"span",6),b.Oc(43,W,2,0,"span",6),b.Ub(),b.Ub()),2&e&&(b.Cb(4),b.qc("formGroup",t.addUserForm),b.Cb(7),b.qc("ngIf",t.addUserForm.get("userName").hasError("required")),b.Cb(6),b.qc("ngIf",t.addUserForm.get("name").invalid),b.Cb(6),b.qc("ngForOf",t.roleList),b.Cb(1),b.qc("ngIf",t.addUserForm.get("roleId").invalid),b.Cb(6),b.qc("ngForOf",t.vaccineCenterList),b.Cb(6),b.qc("ngForOf",t.lookupService.yesNoList),b.Cb(1),b.qc("ngIf",t.addUserForm.get("isActive").invalid),b.Cb(4),b.qc("disabled",t.isShowLoader),b.Cb(1),b.qc("ngIf",!(null!=t.identityUser&&t.identityUser.userId)),b.Cb(1),b.qc("ngIf",(null==t.identityUser?null:t.identityUser.userId)>0))},directives:[N.k,N.h,g.b,c.L,c.w,c.n,g.f,g.g,f.c,f.g,U.b,c.e,c.v,c.l,c.G,u.t,p.a,u.s,N.d,v.b,f.b,w.o],pipes:[B.d],styles:[".mat-dialog-content[_ngcontent-%COMP%]{min-height:70%;overflow:auto}textarea#additionalParcelNumbers[_ngcontent-%COMP%]{min-height:95px}.m-t-20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),e})();var Y=i("znSr"),Z=i("1jcm");function K(e,t){1&e&&b.Qb(0,"app-loader")}const ee=function(e,t){return{width:e,"min-width":t}};function te(e,t){if(1&e&&(b.Vb(0,"th",18),b.Qc(1),b.Ub()),2&e){const e=b.hc().$implicit;b.qc("ngStyle",b.uc(2,ee,e.width,e.width)),b.Cb(1),b.Sc(" ",e.title," ")}}function ie(e,t){if(1&e){const e=b.Wb();b.Vb(0,"div",24),b.Vb(1,"button",25),b.dc("click",(function(){b.Dc(e);const t=b.hc().$implicit;return b.hc(2).onShowAddUserDialog(t)})),b.Vb(2,"mat-icon",26),b.Qc(3,"edit"),b.Ub(),b.Ub(),b.Vb(4,"button",25),b.dc("click",(function(){b.Dc(e);const t=b.hc().$implicit;return b.hc(2).onShowDeleteUserConfirmation(t)})),b.Vb(5,"mat-icon",27),b.Qc(6,"delete_forever"),b.Ub(),b.Ub(),b.Ub()}}function ae(e,t){if(1&e){const e=b.Wb();b.Tb(0),b.Vb(1,"mat-slide-toggle",28),b.dc("change",(function(t){b.Dc(e);const i=b.hc().$implicit;return b.hc(2).onActiveDeactivateChange(t,i)})),b.Qc(2," Active "),b.Ub(),b.Sb()}if(2&e){const e=b.hc().$implicit;b.Cb(1),b.qc("checked",e.isActive)}}function re(e,t){if(1&e&&(b.Tb(0),b.Qc(1),b.Sb()),2&e){const e=b.hc().$implicit,t=b.hc().$implicit;b.Cb(1),b.Sc(" ",e[t.index]," ")}}function ce(e,t){if(1&e&&(b.Vb(0,"td",19),b.Tb(1,20),b.Oc(2,ie,7,0,"div",21),b.Oc(3,ae,3,1,"ng-container",22),b.Oc(4,re,2,1,"ng-container",23),b.Sb(),b.Ub()),2&e){const e=b.hc().$implicit;b.qc("ngStyle",b.uc(4,ee,e.width,e.width)),b.Cb(1),b.qc("ngSwitch",e.type),b.Cb(1),b.qc("ngSwitchCase","actions"),b.Cb(1),b.qc("ngSwitchCase","boolean")}}function se(e,t){if(1&e&&(b.Tb(0),b.Tb(1,15),b.Oc(2,te,2,5,"th",16),b.Oc(3,ce,5,7,"td",17),b.Sb(),b.Sb()),2&e){const e=t.$implicit;b.Cb(1),b.qc("matColumnDef",e.index)("sticky","left"===e.fixed)("stickyEnd","right"===e.fixed)}}function oe(e,t){1&e&&b.Qb(0,"tr",29)}function ne(e,t){1&e&&b.Qb(0,"tr",30)}let le=(()=>{class e{constructor(e,t,i,a,r,c){this.dialog=e,this.authService=t,this.snackBarService=i,this.sharedService=a,this.roleService=r,this.lookupService=c,this.columns=de,this.displayedColumns=this.columns.map(e=>e.index),this.userList=[],this.dataSource=new I.p(this.userList),this.roleList=[],this.isShowLoader=!1}set matPaginator(e){this.paginator=e,this.dataSource.paginator=this.paginator}ngOnInit(){this.getUsers()}getUsers(){const e=new Q;e.roleId=this.authService.loggedInUser.roleId,this.isShowLoader=!0,this.authService.getUsers(e).subscribe(e=>{this.userList=e,this.dataSource.data=this.userList,this.isShowLoader=!1},()=>{this.isShowLoader=!1})}onSearchFilter(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}onRoleChange(e){this.dataSource.data=e>0?this.userList.filter(t=>t.roleId==e):this.userList}onShowAddUserDialog(e=null){this.dialog.open(X,{width:"600px",height:"400px",panelClass:"add-user-dialog",data:e}).afterClosed().subscribe(e=>{if(console.log("Add/Update User ",e),null!=e)switch(e.registraionStatus){case O.b.Added:this.userList.push(e),this.dataSource.data=this.userList;break;case O.b.Updated:let t=this.userList.find(t=>t.userId==e.userId);Object.assign(t,e),this.dataSource.data=this.userList}})}deleteUser(e){this.authService.deleteUser(e).subscribe(e=>{console.log(e),this.isShowLoader=!1,e&&(this.getUsers(),this.snackBarService.showSnackBarComponent(P.c.UserDeleteTitle,P.c.UserDeleteMessage))},()=>{this.isShowLoader=!1})}onShowDeleteUserConfirmation(e){console.log("onDeleteUser"),this.dialog.open(A.a,{width:"500px",panelClass:"confirmation-dialog"}).afterClosed().subscribe(t=>{console.log("isConfirmed",t),t&&this.deleteUser(e.userId)})}onActiveDeactivateChange(e,t){console.log(t),t.isActive?this.onDeactivateUser(t):this.onActivateUser(t)}onDeactivateUser(e){console.log("onDeactivateUser"),this.isShowLoader=!0,this.authService.deactivateUser(e.userId).subscribe(t=>{console.log("isSuccess",t),e.isActive=!1,this.isShowLoader=!1,this.snackBarService.showSnackBarComponent(P.c.DeactivedUserTitle,P.c.DeactivedUserMsg)},e=>{console.error("error",e),this.isShowLoader=!1})}onActivateUser(e){console.log("onActivateUser"),this.isShowLoader=!0,this.authService.activateUser(e.userId).subscribe(t=>{e.isActive=!0,console.log("isSuccess",t),this.isShowLoader=!1,this.snackBarService.showSnackBarComponent(P.c.ActivedUserTitle,P.c.ActivedUserMsg)},e=>{console.error("error",e),this.isShowLoader=!1})}}return e.\u0275fac=function(t){return new(t||e)(b.Pb(N.c),b.Pb(s.a),b.Pb(n.a),b.Pb(R.a),b.Pb(M),b.Pb(o.a))},e.\u0275cmp=b.Jb({type:e,selectors:[["app-manage-user"]],viewQuery:function(e,t){var i;1&e&&(b.Uc(L.a,!0,!0),b.Uc(L.a,!0)),2&e&&(b.zc(i=b.ec())&&(t.paginator=i.first),b.zc(i=b.ec())&&(t.matPaginator=i.first))},decls:20,vars:9,consts:[[4,"ngIf"],["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","60","fxFlex.lt-sm","60"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"p-4"],["fxFlex","40","fxFlex.lt-sm","40"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["paginator",""],[1,"matero-table-container","mat-elevation-z1"],["mat-table","",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef","sticky","stickyEnd"],["mat-header-cell","",3,"ngStyle",4,"matHeaderCellDef"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["mat-header-cell","",3,"ngStyle"],["mat-cell","",3,"ngStyle"],[3,"ngSwitch"],["class","action-icon",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"action-icon"],["mat-icon-button","","type","button",3,"click"],[1,"edit-icon"],[1,"delete-icon"],[3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(b.Qb(0,"page-header"),b.Oc(1,K,1,0,"app-loader",0),b.Vb(2,"div",1),b.Vb(3,"div",2),b.Vb(4,"mat-card"),b.Vb(5,"div",3),b.Vb(6,"div",4),b.Vb(7,"button",5),b.dc("click",(function(){return t.onShowAddUserDialog()})),b.Vb(8,"mat-icon"),b.Qc(9,"add_circle"),b.Ub(),b.Vb(10,"span",6),b.Qc(11," Add User"),b.Ub(),b.Ub(),b.Ub(),b.Vb(12,"div",7),b.Qb(13,"mat-paginator",8,9),b.Ub(),b.Ub(),b.Vb(15,"div",10),b.Vb(16,"table",11),b.Oc(17,se,4,3,"ng-container",12),b.Oc(18,oe,1,0,"tr",13),b.Oc(19,ne,1,0,"tr",14),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Cb(1),b.qc("ngIf",t.isShowLoader),b.Cb(12),b.qc("pageSize",t.sharedService.defaultPageSize)("pageSizeOptions",t.sharedService.pageSizeOptions)("showFirstLastButtons",t.sharedService.showFirstLastButtons),b.Cb(3),b.qc("dataSource",t.dataSource),b.Cb(1),b.qc("ngForOf",t.columns),b.Cb(1),b.qc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),b.Cb(1),b.qc("matRowDefColumns",t.displayedColumns))},directives:[h.a,u.t,g.f,g.b,m.a,g.g,v.b,C.a,L.a,I.o,u.s,I.k,I.n,S.a,I.c,I.i,I.b,I.h,u.w,Y.d,I.a,u.x,u.y,u.z,Z.a,I.j,I.m],styles:[".matero-table-container[_ngcontent-%COMP%]{height:460px;overflow:scroll;width:100%;overflow:auto}.matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%}.matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-actions[_ngcontent-%COMP%], .matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .matero-table-container[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-cell.mat-column-actions[_ngcontent-%COMP%]{justify-content:center!important;text-align:center}"]}),e})();const de=[{title:"Username",index:"userName",width:"25%"},{title:"Name",index:"name",width:"25%"},{title:"Active",index:"isActive",type:"boolean",width:"25%"},{title:"Action",index:"options",width:"25%",type:"actions"}],be=[{path:"users",component:le,data:{title:"Manage Users"}},{path:"centers",component:x,data:{title:"Manage Centers"}},{path:"**",redirectTo:"users"}];let he=(()=>{class e{}return e.\u0275mod=b.Nb({type:e}),e.\u0275inj=b.Mb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(be)],r.i]}),e})(),ue=(()=>{class e{}return e.\u0275mod=b.Nb({type:e}),e.\u0275inj=b.Mb({factory:function(t){return new(t||e)},imports:[[a.a,he]]}),e})()}}]);